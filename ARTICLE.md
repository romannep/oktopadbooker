
# Двойная запись и финансовый результат

Для контроля и анализа деятельности компании давно
придумана двойная запись. Да, та, которая "Дебет", "Кредит" и "Баланс".
Обычно, при этих словах всплывают в памяти огромные бухгалетрские
отчеты с кучей цифр, в которых невозможно разобраться. 
Однако, если выбросить навязанный ФНС план счетов, Правила 
Бухгалтерского Учета и сделать все по своему - с помощью
двойной записи можно получить 
компактный и ползеный инструмент.

Для начала нужно разобраться - что же такое двойная запись.
Теорию вы легко сможете нагуглить. Беда в том, что она 
не дает настоящего понимания. Будем разбирать на примерах.

## Двойная запись

Представим, что трое друзей - Вася, Петя и Маша решили 
культурно отдохнуть, а расходы на мероприятие поделить поровну.

Организатором назначили Васю и сдали ему по 1000р. Вася
забронировал глемпинг за 1990р и купил на всех колы на 710р. 
Когда Маша узнала, что Вася не купил никакой еды, она заказала 
3 штуки пиццы на 350р. Ей не хватило денег чтоб
добраться до места и она попросила Петю скинуть ей 100р 
на такси.
В процессе отдыха вся компания пела в караоке, 250р за который 
отдал Петя.
На утро, с больной от кофеина головой, вся компания
пыталась посчитать - во сколько итого обошелся праздник и кто кому
сколько должен.

Давайте им поможем.

Базовый элемент принципа двойной записи - счет - единица группировки
финансовых операций. Для нашей компании создадим такие счета:

01 Вася
02 Петя
03 Маша
10 Праздник

Под Финансовой операцией будем подразумевать перемещение 
(физическое или логическое) некоторой материальной ценности.
Ценность перемещается со счета на счет. 
С Кредита одного счета на Дебет другого. Или, как это принято,
В Дебет одного счета с Кредита другого.

Когда Петя сдал Васе 1000р на счет, произошла операция
которую мы запишем как:

Дт 01 Вася Кт 02 Петя Сумма 1000

Одна такая запись называется проводкой. В общем случае,
финансовая операция может быть записана несколькими проводками.

А оплата глемпинга будет записана как:

Дт Праздник Кт Вася Сумма 1990

Все операции будут выглядеть так:

 - картинка

Теперь можно посмотреть отчет Оборотно-сальдовая ведомость.
Первые два столбца - остатки на начало периода.
Следующие два - обороты за период. Последние два  - 
остатки по счетам на конец периода.

Совсем необязательно осмысливать каждую цифру этого
отчета на этом этапе. 
Нам нужно узнать полный бюджет праздника. 
Вы видели, что все расходы на праздник проходили 
по дебету счета 10 Праздник, значит нужная нам цифра
Будет в столбце СКД (Сальдо (остаток) Конечное Дебетовое)
и строке 10 Праздник: 3300.

Ясно, что на каждого приходится по 1100.
Здесь нам нужно сделать логические проводки.
Каждый участник "получил" ценность в виде праздника
на сумму 1100р.

-картинка проводок

Посмотрим на новые цифры в отчете.

- картинка

Нужная нам информация находится в том же столбце СКД.
Мы хотим, чтоб каждый потратил столько, сколько получил.
Иными словами - чтоб остаток по его счету был нулевым.
Сейчас же видно, что у Васи на руках остались "лишние"
деньги, тогда как Петя и Маша ушли в минус.

Решение проблемы для нашей компании: Вася должен отдать Пете
250р и отдать 150р Маше. Тогда все будет честно и поровну.


С минимумом разобрались. Дальше - интересней.

## Активы и Пассивы

Здесь все также: сухое определение этих терминов даст вам
не больше чем новичку в Javascript определения замыкания.
Будем познавать на примере.

Хорошо отдохнувший Петя решил наконец-таки реализовать
свои управленческие амбиции и создать собственную компанию
по разработке ПО на заказ.
Все свои накопления - 50 000р - он решил полностью вложить в новое дело.
Он уволился и прихватил с собой троих разработчиков, пообещав
им по 40 000р в месяц.
Договор на аренду офиса Петя заключил на сумму 16 000 в месяц. 
В городе было много пустующих помещений, поэтому он без труда 
договорился, что будет платить в конце месяца, а первый раз
заплатит в конце июля сразу за полтора месяца.
На кофе, плюшки и прочую общехозяйственную мелочь Петя потратил 5000р, чего
должно хватить на две недели.
Компания МегаСтудиоГруп начала свою работу ровно в середине месяца - 15 июня.


У Пети, конечно, заранее был лояльный клиент, готовый работать с ним.
Они быстро заключили договор на разработку приложения на 240 000р со
сроком разработки 3 месяца и команда Пети взялась за разработку.
Клиент оплатил аванс 80 000.


В конце месяца Петя решил подвести предварительные итоги деятельности своей
компании.
Денег на руках у него было 125 000 
(50 000 накопления - 5 охр + 80 000 аванс).
Петя прикинул - в предстоящем месяце ему надо будет выплатить 60 000 зарплаты
(40 000 * 3 / 2) и потратить 10 000 на хозяйственные расходы (останется 55 000). 
40 000р из оставшейся суммы были остатком инвестиций, значит итоге у него
будет "прибыль" в 15 000р. Петя остался довольным отличным стартом.

Такой ли уж старт отличный? Давайте разберемся.

Будем расписывать все операции относительно созданной компании.
Для начала создадим счета 01 Деньги и 20 Капиталл.
Когда Петя внес свои накопления, деньги компании увеличились на 50 000.
Эти деньги, по сути, являются стартовым капиталлом.
Т.е. операция должна выглядеть как-то так:

Дт "01 Деньги" Кт "20 Капиталл" Сумма 50 0000

Как же так - операция проходит по Кредиту "20 Капиталл", а остаток,
т.е. сам капиталл, увеличивается? Должно же быть так:

- скрин

Фокус в том, что счет может быть Активным или Пассивным. 
В первом случае, считается Дебетовый остаток (сальдо), во втором - Кредитовый.
Дебет - Кредит не более чем знак математической операции.
Дебетовый остаток -50 000, в некотором смысле, тоже самое что и 
кредитовый остаток +50 000.

Сделаем счет "20 Капиталл" пассивным:

- скрин

и получим:

- скрин 

Здесь мы видим, что финансовая операция может быть чем-то
большим, чем "перемещение ценности".

Будем считать финансовый результат. Хотя... считать мы
ничего не будем - просто отразим все операции, а 
финансовый результат получится сам собой.

Нас интересует прибыль, поэтому если операция влияет на нее,
мы хотим это видеть: создадим счет "19 Прибыль".

-картинка с субсчетами

Мы хотим видеть не только итоговую цифру прибыли, но и то,
из чего она сложилась. Для этого, каждую операцию мы будем
детализировать, указывая субсчет:
- выручка: для выручки
- ФОТ: все расходы на Фонд Оплаты Труда
- ОХР: ОбщеХозяйственные Расходы - в нашем случае все другие расходы, помимо ФОТ 

Для анализа нам интересны только обороты по субсчетам,
поэтому ставим флаг "Скрывать остатки по субсчетам".

Петя потратил 5000р на кофе и плюшки. Это влияет на деньги и на прибыль.
Осталось понять что будет в Дебете, а что в Кредите.
Тут просто: деньги уменьшаются, а счет активный - значит деньги
должны быть по Кредиту. Указывая в Дебете счет "19 Прибыль" мы укажем
субсчет - "ОХР".

Дт "19 Прибыль \[ОХР\]" Кт "01 Деньги" Сумма 5000

Платеж за аренду будет еще только через месяц. Значит ли это, что
две недели Петина компания пользовалась офисом бесплатно?
Ясно что нет. Фактически офис за это время обошелся в 16000/2 = 8000р,
просто Петя за него заплатит позже. За две недели у компании
образовалась Кредиторская задолженность на эту сумму.

Создадим счет "10 Кредиторская задолженность" и отразим операцию.
Из предыдущей проводки мы видим, что расходы проходят по Дебету счета прибыли,
значит операция будет выглядеть:

Дт "19 Прибыль \[ОХР\]" Кт "10 Кредиторская задолженность" Сумма 8000

По аналогии со счетом "20 Капиталл": кредиторка должна быть положительной,
а в проводке она проходит по кредиту - значит счет "10 Кредиторская задолженность"
должен быть пассивным.

По аналогии учтем и зарплату: фактически мы ее не заплатили, но будем должны.
Создадим пассивный счет "11 Расчеты с сотрудниками" и проводку,
указывая нужны субсчет:

Дт "19 Прибыль \[ФОТ\]" Кт "11 Расчеты с сотрудниками" Сумма 60000

Разберемся теперь с доходами. В нашем случае операции две:
получение дохода и оплата от заказчика.

===
При продаже товара в розницу, клиент
получает товар (услугу), которую сразу же оплачивает.
В этом случае, операцию можно отразить одной проводкой.
===    


===
для фин реза однотипные можно отражать одной проводкой
на общую сумму
===

50 - 32 - 10 + 80 = 88. зп 60 + 10 -> в плюсе
опу 240 / 3 / 2 = 40 - 60 - 8 - 10 -> в минусе 




Основные финансовые отчеты - Движение денежных средств (ДДС), 
Отчет о прибылях и убытках(ОПУ), Управленческий баланс(УБ).


