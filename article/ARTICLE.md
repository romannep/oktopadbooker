
# Двойная запись и финансовый результат

Для контроля и анализа деятельности компании давно
придумана двойная запись. Да, та, которая "Дебет", "Кредит" и "Баланс".
Обычно, при этих словах всплывают в памяти огромные бухгалетрские
отчеты с кучей цифр, в которых невозможно разобраться. 
Однако, если выбросить навязанный ФНС план счетов, Правила 
Бухгалтерского Учета и сделать все по своему - с помощью
двойной записи можно получить 
компактный и ползеный инструмент.

Для начала нужно разобраться - что же такое двойная запись.
Теорию вы легко сможете нагуглить. Беда в том, что она 
не дает настоящего понимания. Будем разбирать на примерах.

## Двойная запись

Представим, что трое друзей - Вася, Петя и Маша решили 
культурно отдохнуть, а расходы на мероприятие поделить поровну.

Организатором назначили Васю и сдали ему по 1000р. Вася
забронировал глемпинг за 1990р и купил на всех колы на 710р. 
Когда Маша узнала, что Вася не купил никакой еды, она заказала 
3 штуки пиццы на 350р. Ей не хватило денег чтоб
добраться до места и она попросила Петю скинуть ей 100р 
на такси.
В процессе отдыха вся компания пела в караоке, 250р за который 
отдал Петя.

На утро, с больной от кофеина головой, вся компания
пыталась посчитать - во сколько итого обошелся праздник и кто кому
сколько должен.

Давайте им поможем.

Базовый элемент принципа двойной записи - *счет* - единица группировки
финансовых операций. Для нашей компании создадим такие счета:

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/01.png">
</p>

````
Цифры перед названием счета ничего не значат. 
В отчете счета сортируются по названию - цифры используются для того, 
чтобы счета шли в нужном порядке.
````

Под Финансовой операцией будем подразумевать перемещение 
(физическое или логическое) некоторой материальной ценности.
Ценность перемещается со счета на счет. 
С Кредита одного счета на Дебет другого. Или, как это принято,
В Дебет одного счета с Кредита другого.

Когда Петя сдал Васе 1000р на счет, произошла операция
которую мы запишем как:

````
Дт 01 Вася Кт 02 Петя Сумма 1000
````

Одна такая запись называется проводкой. В общем случае,
финансовая операция может быть записана несколькими проводками.

Оплата глемпинга будет записана как:

````
Дт Праздник Кт Вася Сумма 1990
````

Все операции будут выглядеть так:

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/02.png">
</p>

Теперь можно посмотреть отчет Оборотно-сальдовая ведомость.

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/03.png">
</p>

Первые два столбца - остатки на начало периода.
Следующие два - обороты за период. Последние два  - 
остатки по счетам на конец периода.

Совсем необязательно осмысливать каждую цифру этого
отчета на этом этапе. 
Нам нужно узнать полный бюджет праздника. 
Вы видели, что все расходы на праздник проходили 
по дебету счета "10 Праздник", значит нужная нам цифра
Будет в столбце СКД (Сальдо (остаток) Конечное Дебетовое)
и строке "10 Праздник": 3300.

Ясно, что на каждого приходится по 1100.
Здесь нам нужно сделать логические проводки.
Каждый участник "получил" ценность в виде праздника
на сумму 1100р.

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/04.png">
</p>


Посмотрим на новые цифры в отчете.

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/05.png">
</p>


Нужная нам информация находится в том же столбце - СКД.
Мы хотим, чтоб каждый потратил столько, сколько получил.
Иными словами - чтоб остаток по его счету был нулевым.
Сейчас видно, что у Васи на руках остались "лишние"
деньги, тогда как Петя и Маша ушли в минус.

Решение проблемы для нашей компании: Вася должен отдать Пете
250р и отдать 150р Маше. Тогда все будет честно и поровну.


С базовыми понятиями разобрались. Дальше - интересней.

## Активы и Пассивы

Здесь все также: сухое определение этих терминов даст вам
не больше чем новичку в Javascript определение замыкания.
Будем познавать на примере.

Хорошо отдохнувший Петя решил наконец-таки реализовать
свои управленческие амбиции и создать собственную компанию
по разработке ПО на заказ.
Все свои накопления - 50 000р - он решил полностью вложить в новое дело.
Он уволился и прихватил с собой троих разработчиков, пообещав
им по 40 000р в месяц.
Договор на аренду офиса Петя заключил на сумму 16 000 в месяц. 
В городе было много пустующих помещений, поэтому он без труда 
договорился, что будет платить в конце месяца, а первый раз
заплатит в конце июля - сразу за полтора месяца.
На кофе, плюшки и прочую общехозяйственную мелочь Петя потратил 5000р, чего
должно хватить на две недели.
Компания начала свою работу ровно в середине месяца - 15 июня.

У Пети, конечно, заранее был лояльный клиент, готовый работать с ним.
Они быстро заключили договор на разработку приложения на 240 000р со
сроком разработки 3 месяца и команда Пети взялась за разработку.
Клиент оплатил аванс 80 000.

В конце месяца Петя решил подвести предварительные итоги деятельности своей
компании.
Денег на руках у него было 125 000 
(50 000 накопления - 5 000 кофе-плюшки + 80 000 аванс).
Петя прикинул - в предстоящем месяце ему надо будет выплатить 60 000 зарплаты
(40 000 * 3 / 2) и потратить 10 000 на хозяйственные расходы (останется 55 000). 
40 000р из оставшейся суммы были остатком инвестиций, значит итоге у него
будет "прибыль" в 15 000р. Петя остался довольным отличным стартом.

Такой ли уж старт отличный? Давайте разберемся.

Будем расписывать все операции относительно созданной компании.
Для начала создадим счета "01 Деньги" и "20 Капиталл".

Когда Петя внес свои накопления, деньги компании увеличились на 50 000.
Эти деньги, по сути, являются стартовым капиталлом.
Т.е. операция должна выглядеть как-то так:

````
Дт "01 Деньги" Кт "20 Капиталл" Сумма 50 0000
````

Как же так - операция проходит по Кредиту "20 Капиталл", а остаток,
т.е. сам капиталл, увеличивается? Должно же быть так:

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/06.png">
</p>

Фокус в том, что счет может быть Активным или Пассивным. 
В первом случае, считается Дебетовый остаток (сальдо), во втором - Кредитовый.
Дебет - Кредит не более чем знак математической операции.
Дебетовый остаток -50 000, в некотором смысле, тоже самое что и 
кредитовый остаток +50 000.

Сделаем счет "20 Капиталл" пассивным:

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/07.png">
</p>

и получим:

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/08.png">
</p>

Здесь мы видим, что финансовая операция может быть чем-то
большим, чем "перемещение ценности".

Будем считать финансовый результат. Хотя... считать мы
ничего не будем - просто отразим все операции, а 
финансовый результат получится сам собой.

Нас интересует прибыль, поэтому если операция влияет на нее,
мы хотим это видеть: создадим счет "19 Прибыль".

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/09.png">
</p>


Мы хотим видеть не только итоговую цифру прибыли, но и то,
из чего она сложилась. Для этого, каждую операцию мы будем
детализировать, указывая субсчет:
- выручка: для выручки
- ФОТ: все расходы на Фонд Оплаты Труда
- ОХР: ОбщеХозяйственные Расходы - в нашем случае все другие расходы, помимо ФОТ 

Для анализа нам интересны только обороты по субсчетам,
поэтому ставим флаг "Скрывать остатки по субсчетам".

Петя потратил 5000р на кофе и плюшки. Это влияет на деньги и на прибыль.
Осталось понять что будет в Дебете, а что в Кредите.
Тут просто: деньги уменьшаются, а счет активный - значит деньги
должны быть по Кредиту. Указывая в Дебете счет "19 Прибыль" мы укажем
субсчет - "ОХР".

````
Дт "19 Прибыль [ОХР]" Кт "01 Деньги" Сумма 5000
````

Платеж за аренду будет еще только через месяц. Значит ли это, что
две недели Петина компания пользовалась офисом бесплатно?
Ясно что нет. Фактически офис за это время обошелся в 16000/2 = 8000р,
просто Петя за него заплатит позже. За две недели у компании
образовалась Кредиторская задолженность на эту сумму.

Создадим счет "10 Кредиторская задолженность" и отразим операцию.
Из предыдущей проводки мы видим, что расходы проходят по Дебету счета прибыли,
значит операция будет выглядеть:

````
Дт "19 Прибыль [ОХР]" Кт "10 Кредиторская задолженность" Сумма 8000
````

По аналогии со счетом "20 Капиталл": кредиторка должна быть положительной,
а в проводке она проходит по кредиту - значит счет "10 Кредиторская задолженность"
должен быть пассивным.

По аналогии учтем и зарплату: фактически мы ее не заплатили, но будем должны.
Создадим пассивный счет "11 Расчеты с сотрудниками" и проводку,
указывая нужны субсчет:

````
Дт "19 Прибыль [ФОТ]" Кт "11 Расчеты с сотрудниками" Сумма 60000
````

Разберемся теперь с доходами. 

Будем считать, что Петя договорился с клиентом закрывать Актами
выполненную работу каждые две недели и успешно подписал Акт
на 40 000р (240 000 / 3 / 2). 

Что происходит когда мы оказали услугу клиенту, а оплату еще
не получили? Клиент становится нам должен. Иными словами,
у нас появляется дебиторская задолженность. Создадим под
нее активный счет и сделаем проводку:

````
Дт "02 Дебиторская задолженность" Кт "19 Прибыль [Выручка]" Сумма 40000
````

Получение денег от клиента уменьшает его долг и увеличивает
наши денежные средства. Здесь все просто.

````
Дт "01 Деньги" Кт "02 Дебиторская задолженность" Сумма 80000
````

````
При продаже услуги в розницу, клиент ее сразу же оплачивает.
Такие операции можно отразить одной проводкой вида
Дт Деньги Кт Выручка
````

Время взглянуть на результат.

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/10.png">
</p>

Обороты по счету "19 Прибыль" представляют собой готовый
Отчет о Прибылях и Убытках (ОПУ): 
в ДО по субсчетам мы видим расходы, в КО - доходы, 
а в СКК по счету в целом общий итог: компания Пети
за первые две недели получила убыток в 33000р. 
Такой старт уже не назовешь хорошим - Петя радовался зря.

Последние две колонки представляют собой Баланс, или
Управленческий баланс, т.к. под просто "балансом"
обычно подразумевают бухгалетрский баланс.

Тут мы можем попытаться понять концепцию Активов и Пассивов.
Левая колона - СКД - это наши активы - некоторые ценности,
которыми мы можем распоряжаться и которые имеют конкретную
оценку в деньгах. Дебиторка в общем случае вполне себе ценность - 
ее можно, к примеру, продать коллекторам :). В случае с Петей
дебиторка отрицательная, что значит что это аванс:
не клиент должен компании, а компания клиенту. 

В активах могут быть товарные остатки, материалы, основные средства и т.п.

Правая колонка - пассивы - некоторое обоснование того,
за счет чего у нас взялись активы (задолженности) и что они из себя представляют (капиталл) 
Помимо кредиторки и расчетов с сотрудниками там могут быть, например, займы. 
Все прочее обычно можно представить одним счетом - Капиталл.

Спишем убыток и посмотрим на баланс еще раз:

<p align="center">
  <img src="https://github.com/romannep/oktopadbooker/raw/master/article/img/11.png">
</p>

При таком подходе на счете Капиталл у нас будет отражаться
балансовая стоимость компании. Т.е. то что у нас останется если мы
реализуем все активы и расплатимся по обязательствам. А прибыль - это
ни что иное как увеличение этой балансовой стоимости.

На старте компания Пети имела капитал равный его вложениям - 50000.
После двух недель работы - 17000, т.к. сработала в убыток в 33000р. 

````
Из этого следует что для расчета прибыли вместо отражения всех операций, 
мы можем измерить наши активы и пассивы на начало и конец периода, 
вычесть из конечного начальный капиталл и получим требуемую цифру.
````

На практике отражать каждую операцию смысла нет: мы можем
группировать схожие операции и отражать их одной проводкой на общую
сумму.

Счета можно создавать исходя из того, как хочется 
видеть финансовый результат. Например, если компания ведет
работу над небольшим количеством крупных проектов,
можно создавать пассивный счет на каждый проект,
чтобы видеть финансовый результат по каждому из них отдельно.

Если в компании есть риск кассовых разрывов, то мы можем
детализировать счет "01 Деньги" субсчетами и на выходе,
помимо ОПУ и Управленческого баланса получим ДДС -
отчет о движении денежных средств.

Расчета финансового результата с помощью двойной записи защищен
от накопительной ошибки. Если мы формируем ОПУ просто выписывая
доходы-расходы и забываем что то учесть - мы об этом можем никогда не узнать.
Если ошибка более-менее значимая, то со временем она "накопится"
и мы можем прийти к ситуации, что на бумаге капиталл есть,
а фактически - нет. Ошибиться можно и в случае с двойной записью.
Но в этом случае эта ошибка "ляжет" на какой то из счетов.
Периодически проверяя активы, мы можем эту ошибку найти и
скорректировать финансовый результат.

Если компания занимается торговлей, то перед нами неизбежно
встанет вопрос учета себестоимости товаров. Даже с управленеской
точки зрения, где у нас нет навязанных правил и ограничений,
этот вопрос не простой - может по-разному решаться в разных
ситуациях. Оставим его за рамками данной статьи.
  
Надеюсь, у меня получилось показать, что двойная запись,
дебет-кредит, активы и пассивы - это не так уж и страшно.  
Эти знания помогут легко сформировать согласованные между собой
управленческие отчеты (УБ, ОПУ, ДДС) и избежать накопительных ошибок.

 * * *
 
Попробовать двойную запись в деле вы можете в программе
Oktopad Booker, которую я сделал специально для этих целей.
Не смотря на то, что приложение довольно простое, его будет достаточно
для регулярного расчета финансового результата многих компаний.
 
Приложение сделано на Flutter, есть сборки для Mac и Windows,
исходный код открыт. 

